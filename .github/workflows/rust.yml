name: Rust

on: [push]

jobs:
 build:
   name: Build and test
   runs-on: ubuntu-latest
   steps:
     - name: Checkout
       uses: actions/checkout@v2
       with:
         persist-credentials: false
     - name: Set up Python 3.7
       uses: actions/setup-python@v2
       with:
         python-version: 3.7
     - name: Install dependencies
       run: |
         pip install pipenv
         make setup
     - name: Test
       run: make test
